<?php 
session_start();
include "partials/earlycarenav.php"; 

//require_once "guards/user_guard.php";
require_once "classes/User.php";

if (isset($_SESSION["user_id"])) {
    $user_id = $_SESSION["user_id"];

     //$userr = new User();
     //$user = $userr->fetch_weightloss($user_id);

}
?>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-4">
            <div class="bg-light">
                <h1 class="text-center">Goal Data</h1>
                <form method="post" action="process/weightloss_process.php">
                    <!--check if error msg is available in session-->
                        <?php
                        if (isset($_SESSION["weightloss_error_msg"])) {                           
                        ?>

                        <!-- display error msg -->
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                           <strong><?php echo $_SESSION["weightloss_error_msg"]; ?></strong> You should check in on some of those fields below.
                        </div>

                        <!-- unset the displayed errored msg -->
                        <?php unset($_SESSION["weightloss_error_msg"]); ?>
                        
                        <?php
                        }
                        ?>
                        <!-- End of error message -->
                    <input type="hidden" name="user_id" value="<?php echo $user_id; ?>" id="">
                    <div class="row mb-3">
                        <div class="col-md-6"><label for="current_weight" class="form-label">Current weight in kg</label></div>
                        <div class="col-md-6"><input type="number" name="current_weight" id="current_weight" class="form-control"></div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6"><label for="target_weight" class="form-label">weightloss target</label></div>
                        <div class="col-md-6">
                            <select name="target_weight" id="target_weight" class="form-control">
                                <option value="">select one</option>
                                <option value="1kg">1kg</option>
                                <option value="2kg">2kg</option>
                                <option value="2kg">3kg</option>
                            </select>
                        </div>  
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6"><label for="height" class="form-label">height in cm</label></div>
                        <div class="col-md-6"><input type="number" name="height" id="height" class="form-control"></div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6"><label for="age"  class="form-label">age</label></div>
                        <div class="col-md-6"><input type="number" name="age" id="age" class="form-control"></div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6"><label for="activity_level" class="form-label">Activity Level</label></div>
                        <div class="col-md-6">
                            <select name="activity_level" id="activity_level" class="form-control">
                                <option value="">select one</option>
                                <option value="sedantary">sedantary</option>
                                <option value="highly_active">highly active</option> 
                            </select>
                        </div>   
                    </div>

                    <div class="row mb-3">
                         <div class="col-md-6"><label for="gender" class="form-label">Gender</label></div>
                        <div class="col-md-6">
                            <select name="gender" id="gender"  class="form-control">
                                <option value="">select one</option>
                                <option value="male">male</option>
                                <option value="female">female</option> 
                            </select>
                        </div> 
                    </div>
                
                    <div class="row mb-3">
                        <div class="col-md-6">              
                            <input type="submit" id="submit_weightloss" name="submit" class="btn btn-primary btn-lg" value="submit">
                        </div>
                        <div class="col-md-6">
                            <input type="reset" name="reset" id="reset" value="reset" class="btn btn-success btn-lg">
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="col-md-4">
            <div class="text-center">
                <h1>View progress</h1>
                <div id="set_goal"></div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="">
                <form action="" method="" id="">
                    <h1>Task achieved</h1>
                    <p>To lose 1 kg in one month, you should aim for a daily caloric intake of approximately calories.</p>
                    <h5>Here are some general recommendations:</h5>
                    
                    <div>
                        <input type="checkbox" name="recommendations[]" id="">
                        <label for="">Today, i reduced my caloric intake by about 300-350 calories.</label>
                    </div>

                    <div>
                        <input type="checkbox" name="recommendations[]" id="">
                        <label for="">Today, i ate nutrient-dense foods and prioritize vegetables, lean protein, and whole grains.</label>
                    </div>

                    <div>
                        <input type="checkbox" name="recommendations[]" id="">
                        <label for="">Today, i engaged in a physical activity, including both cardio and strength training exercises.</label>
                    </div>
                </form>

                    <div>
                        <h3>Rewards</h3>
                        <p></p>
                    </div>
                </div>
            </div>
        </div>
    </div>       

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script src="assets/scripts/jquery.js"></script>
        <script>
            $(document).ready(function(){
                     
                 
            });
           

        </script>
</div>
    <?php include "partials/earlycarefooter.php"; ?>